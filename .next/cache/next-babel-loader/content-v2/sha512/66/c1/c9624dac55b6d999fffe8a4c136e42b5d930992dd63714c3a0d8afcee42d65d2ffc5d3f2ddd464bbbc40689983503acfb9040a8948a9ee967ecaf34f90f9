{"ast":null,"code":"import database from '../firebase/firebase';\n\nconst setDataLoading = loading => ({\n  type: \"FETCH_DATA_LOADING\",\n  payload: loading\n});\n\nconst fetchDataSuccess = payload => ({\n  type: \"FETCH_DATA_SUCCESS\",\n  payload // { firstName, lastName }\n\n});\n\nconst fetchDataFailure = () => ({\n  type: \"FETCH_DATA_FAILURE\"\n});\n\nexport const fetchData = () => {\n  return dispatch => {\n    dispatch(setDataLoading(true)); // <-- start loading\n\n    return database.ref().once('value').then(snapshot => {\n      const portfolioData = snapshot.val();\n      const githubProjects = portfolioData.githubProjects;\n      const [githubThumbnails] = githubProjects;\n      const [portfolioThumbnail, expensifyThumbnail, newFeaturesThumbnail] = githubThumbnails.thumbnails;\n      const nonGithubProjects = portfolioData.nonGithubProjects;\n      console.log(nonGithubProjects);\n      dispatch(fetchDataSuccess({\n        portfolioThumbnail,\n        expensifyThumbnail,\n        newFeaturesThumbnail,\n        nonGithubProjects\n      }));\n    }).catch(e => {\n      console.error('Error fetching data', e);\n      dispatch(fetchDataFailure());\n    }).finally(() => dispatch(setDataLoading(false))); // <-- complete loading\n  };\n};","map":null,"metadata":{},"sourceType":"module"}