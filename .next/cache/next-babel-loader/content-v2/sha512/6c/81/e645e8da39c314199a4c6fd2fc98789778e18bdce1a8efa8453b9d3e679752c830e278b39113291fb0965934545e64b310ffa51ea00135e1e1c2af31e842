{"ast":null,"code":"import database from '../firebase/firebase';\n\nconst setDataLoading = loading => ({\n  type: \"FETCH_DATA_LOADING\",\n  payload: loading\n});\n\nconst fetchDataSuccess = payload => ({\n  type: \"FETCH_DATA_SUCCESS\",\n  payload // { firstName, lastName }\n\n});\n\nconst fetchDataFailure = () => ({\n  type: \"FETCH_DATA_FAILURE\"\n});\n\nexport const fetchData = () => {\n  return dispatch => {\n    // dispatch(setDataLoading(true)); // <-- start loading\n    return database.ref().once('value').then(snapshot => {\n      const {\n        firstName,\n        lastName,\n        jobTitle,\n        city\n      } = snapshot.val();\n      const portfolioData = snapshot.val();\n      const {\n        linkedIn,\n        gitHub\n      } = portfolioData.urls;\n      dispatch(fetchDataSuccess({\n        firstName,\n        lastName,\n        jobTitle,\n        city,\n        linkedIn,\n        gitHub\n      }));\n    }).catch(e => {\n      console.error('Error fetching data', e);\n      dispatch(fetchDataFailure());\n    }); // .finally(() => dispatch(setDataLoading(false))); // <-- complete loading\n  };\n};","map":{"version":3,"sources":["/Users/niallmckenna/Dropbox/A-react-apps/nextjs-portfolio-app/actions/fetchHomepageDataAction.js"],"names":["database","setDataLoading","loading","type","payload","fetchDataSuccess","fetchDataFailure","fetchData","dispatch","ref","once","then","snapshot","firstName","lastName","jobTitle","city","val","portfolioData","linkedIn","gitHub","urls","catch","e","console","error"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,sBAArB;;AAEA,MAAMC,cAAc,GAAGC,OAAO,KAAK;AAC/BC,EAAAA,IAAI,EAAE,oBADyB;AAE/BC,EAAAA,OAAO,EAAEF;AAFsB,CAAL,CAA9B;;AAKA,MAAMG,gBAAgB,GAAGD,OAAO,KAAK;AACjCD,EAAAA,IAAI,EAAE,oBAD2B;AAEjCC,EAAAA,OAFiC,CAExB;;AAFwB,CAAL,CAAhC;;AAKA,MAAME,gBAAgB,GAAG,OAAO;AAC5BH,EAAAA,IAAI,EAAE;AADsB,CAAP,CAAzB;;AAIA,OAAO,MAAMI,SAAS,GAAG,MAAM;AAC3B,SAAQC,QAAD,IAAc;AACjB;AACA,WAAOR,QAAQ,CAACS,GAAT,GACFC,IADE,CACG,OADH,EAEFC,IAFE,CAEIC,QAAD,IAAc;AAChB,YAAM;AAAEC,QAAAA,SAAF;AAAaC,QAAAA,QAAb;AAAuBC,QAAAA,QAAvB;AAAiCC,QAAAA;AAAjC,UAA0CJ,QAAQ,CAACK,GAAT,EAAhD;AACA,YAAMC,aAAa,GAAGN,QAAQ,CAACK,GAAT,EAAtB;AACA,YAAM;AAAEE,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAuBF,aAAa,CAACG,IAA3C;AACAb,MAAAA,QAAQ,CAACH,gBAAgB,CAAC;AAAEQ,QAAAA,SAAF;AAAaC,QAAAA,QAAb;AAAuBC,QAAAA,QAAvB;AAAiCC,QAAAA,IAAjC;AAAuCG,QAAAA,QAAvC;AAAiDC,QAAAA;AAAjD,OAAD,CAAjB,CAAR;AACH,KAPE,EAQFE,KARE,CAQKC,CAAD,IAAO;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd,EAAqCF,CAArC;AACAf,MAAAA,QAAQ,CAACF,gBAAgB,EAAjB,CAAR;AACH,KAXE,CAAP,CAFiB,CAcjB;AACH,GAfD;AAgBH,CAjBM","sourcesContent":["import database from '../firebase/firebase';\n\nconst setDataLoading = loading => ({\n    type: \"FETCH_DATA_LOADING\",\n    payload: loading,\n});\n\nconst fetchDataSuccess = payload => ({\n    type: \"FETCH_DATA_SUCCESS\",\n    payload, // { firstName, lastName }\n});\n\nconst fetchDataFailure = () => ({\n    type: \"FETCH_DATA_FAILURE\"\n});\n\nexport const fetchData = () => {\n    return (dispatch) => {\n        // dispatch(setDataLoading(true)); // <-- start loading\n        return database.ref()\n            .once('value')\n            .then((snapshot) => {\n                const { firstName, lastName, jobTitle, city } = snapshot.val();\n                const portfolioData = snapshot.val();\n                const { linkedIn, gitHub } = portfolioData.urls;\n                dispatch(fetchDataSuccess({ firstName, lastName, jobTitle, city, linkedIn, gitHub }));\n            })\n            .catch((e) => {\n                console.error('Error fetching data', e);\n                dispatch(fetchDataFailure());\n            })\n        // .finally(() => dispatch(setDataLoading(false))); // <-- complete loading\n    };\n};\n"]},"metadata":{},"sourceType":"module"}