{"ast":null,"code":"import database from '../firebase/firebase';\n\nvar setDataLoading = function setDataLoading(loading) {\n  return {\n    type: \"FETCH_DATA_LOADING\",\n    payload: loading\n  };\n};\n\nvar fetchDataSuccess = function fetchDataSuccess(payload) {\n  return {\n    type: \"FETCH_DATA_SUCCESS\",\n    payload: payload // { firstName, lastName }\n\n  };\n};\n\nvar fetchDataFailure = function fetchDataFailure() {\n  return {\n    type: \"FETCH_DATA_FAILURE\"\n  };\n};\n\nexport var fetchData = function fetchData() {\n  return function (dispatch) {\n    // dispatch(setDataLoading(true)); // <-- start loading\n    return database.ref().once('value').then(function (snapshot) {\n      var _snapshot$val = snapshot.val(),\n          firstName = _snapshot$val.firstName,\n          lastName = _snapshot$val.lastName,\n          jobTitle = _snapshot$val.jobTitle,\n          city = _snapshot$val.city;\n\n      var portfolioData = snapshot.val();\n      var _portfolioData$urls = portfolioData.urls,\n          linkedIn = _portfolioData$urls.linkedIn,\n          gitHub = _portfolioData$urls.gitHub;\n      dispatch(fetchDataSuccess({\n        firstName: firstName,\n        lastName: lastName,\n        jobTitle: jobTitle,\n        city: city,\n        linkedIn: linkedIn,\n        gitHub: gitHub\n      }));\n    })[\"catch\"](function (e) {\n      console.error('Error fetching data', e);\n      dispatch(fetchDataFailure());\n    }); // .finally(() => dispatch(setDataLoading(false))); // <-- complete loading\n  };\n};","map":null,"metadata":{},"sourceType":"module"}